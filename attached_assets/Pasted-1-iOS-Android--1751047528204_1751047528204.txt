1. Формулировка задачи
Сконструировать кроссплатформенное (iOS + Android) приложение, предоставляющее корпоративным клиентам полный цикл SMS-кампаний: от импорта контактных баз до аналитики откликов. Первый экран — лаконичная заставка (логотип SMS TJ; подзаголовок «СМС-рассылки по всему Таджикистану»; кнопка «Войти»). Нажатие на «Войти» открывает форму авторизации с полями логина и пароля.

2. Уровни доступа
Администратор — единственный носитель прав на создание, блокировку и редактирование клиентских учётных записей, на управление тарифами, на просмотр агрегированной статистики по всем рассылкам.

Заказчик — владелец отдельного кабинета, из которого запускаются собственные кампании.

3. Функциональный контур профиля администратора
Панель «Учётные записи» — генерация логина и временного пароля, установка лимита сообщений в рамках подписки, присвоение тарифного плана, журнал действий пользователя;

Панель «Тарифы» — конфигуратор цен: базовая ставка, порог объёма для скидки, продолжительность пробного периода;

Панель «Глобальная статистика» — сквозные метрики (общее число отправленных SMS за сутки, доля доставленных, среднее время прохождения через операторов);

Панель «Финансы» — отчёты по пост- и предоплатной модели, выгрузка в .xlsx.

Каждый пункт снабжён фильтрами по дате и пользователю, экспортом в CSV.

4. Функции кабинета заказчика
Контакты. Пользователь создаёт карточку абонента (имя, телефон, метка сегментации) и сохраняет её в локальной таблице; при загрузке CSV проводится валидация номеров на соответствие формату +992 xxx xx-xx-xx.

Шаблоны. Редактор текста SMS с переменными полями {Имя}, {Сумма}, {Дата}; подсчёт символов с учётом юникода; переключатель «Юникод / GSM-алфавит».

Кампании. Мастер из трёх шагов: выбор контактов, выбор шаблона, планирование времени отправки; предварительный расчёт стоимости, подтверждение списания с баланса.

Статистика. Лентоподобный отчёт: отправлено, доставлено, недоставлено, отклонено оператором, среднее время доставки; встроенный фильтр по кампаниям и дате; диаграмма line chart.

Баланс. Отображение остатка исходя из тарифа; кнопка «Пополнить» с переходом к in-app-платежу через Payme / HumoPay; уведомление о недостатке средств при запуске новой кампании.

5. Архитектура и стек
— Клиент: React Native + TypeScript; хранение сессии через Secure Store; локальные данные — SQLite;
— Бэкенд: Node.js + Nest JS; база данных PostgreSQL; очередь RabbitMQ для асинхронной отправки;
— Интеграция с SMS-шлюзами Tcell, Megafon, ZET-Mobile по SMPP v3.4;
— Авторизация JWT; шифрование паролей bcrypt;
— Мониторинг Grafana + Prometheus; журналирование Winston.

6. UX-детали
Тёмная и светлая схемы, кастомные переключаются в настройках; размер кнопок и поля ввода рассчитаны под палец диаметром 8 мм; фокус-индикаторы и алерт-тексты соответствуют WCAG 2.2 AA; плавная анимация через React Native Reanimated — время перехода 250 мс.

7. Онбординг и безопасность
Первый вход заказчика сопровождается подсказками-оверлеями, объясняющими порядок создания контактов и кампаний; двухфакторная аутентификация активируется переключателем в профиле. Доступ администратора к финансовому модулю защищён отдельным PIN.

8. Подписка
Без подтверждённого платежа функция «Запустить кампанию» блокируется серым оверлеем; тестовая отправка единственного SMS допустима во время пробного периода. Счётчик дней отображается в шапке кабинета.

9. Тон программных сообщений
Текст системных уведомлений предельно конкретен, использует активный глагол и числовые данные: «Отправлено 1250 из 1250 SMS. Доставлено 1187».

10. Итоговое ожидание
Пользователь без обучения создаёт первую кампанию за пять минут, администрация контролирует нагрузку и платёжную дисциплину в одном экране, уровень отказов шлюзов фиксируется, юридические требования Департамента связи РТ выполняются.